## **Области хранения данных**

- **БД (PostgreSQL)** → основное хранилище данных
- **BFF (API)** → управление сессией пользователя и бизнес-логика
- **Стор (Redux)** → управление состоянием на клиенте
- **LocalStorage** → хранение токена для неавторизованного пользователя

---

## **Сущности приложения**

### **Пользователь**

- **БД** → хранит список пользователей
- **BFF** → управляет сессией текущего пользователя
- **Стор** → используется на клиенте для отображения
- **LocalStorage** → хранение токена для неавторизованного пользователя

### **Роль пользователя**

- **БД** → хранит список ролей
- **BFF** → передаёт роль пользователя
- **Стор** → используется на клиенте

### **Товар**

- **БД** → хранит список товаров
- **Стор** → отображение товаров в браузере

### **Категория товаров**

- **БД** → хранит категории товаров
- **Стор** → используется на клиенте для фильтрации

### **Корзина**

- **БД** → хранит список заказов
- **Стор** → управление состоянием корзины на клиенте
- **LocalStorage** → хранение товаров в корзине для неавторизованных пользователей

### **Заказ**

- **БД** → хранит оформленные заказы
- **BFF** → управление статусом заказа

---

## **Таблицы БД (PostgreSQL)**

### **Пользователи (`Users`)**

| id | phone_number | password | registered_at | role_id |

### **Роли (`Roles`)**

| id | name |

### **Товары (`Products`)**

| id | name | image_url | description | price | category_id | history_id | quantity_in_stock

### **Категории (`Categories`)**

| id | name |

### **Корзина (`Cart`)**

| id | user_id | product_id | quantity |

### **Заказы (`Orders`)**

| id | user_id | total_price | status | created_at |

---

## **Схема состояния на BFF**

### **Текущий пользователь**

| phone_number | password | role |

---

## **Схема для Zustand (на клиенте)**

### **user**

| id | phone_number | role |

### **products**

Массив товаров:  
| id | name | image_url | price | category |

### **cart**

Массив товаров в корзине:  
| id | product_id | quantity |

### **orders**

Массив заказов:  
| id | total_price | status | created_at |

### **LocalStorage**

- `token` → токен для неавторизованного пользователя
- `cart` → данные корзины для неавторизованного пользователя
